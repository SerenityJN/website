<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Registration — Southville 8B Senior High School</title>

  <!-- Global CSS -->
  <link rel="stylesheet" href="../css/alldesign.css">
  <link rel="stylesheet" href="../css/registration.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* === BASE PAGE === */
:root{
  --primary-blue: #0056D2;
  --primary-blue-dark: #003C99;
  --muted: #64748b;
  --card-bg: #ffffff;
}

/* Page background */
body {
  font-family: Inter, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  margin: 0;
  background: linear-gradient(180deg, #f8fbff 0%, #eaf6ff 100%);
  color: #1f2937;
}

/* Keep existing container behaviour if you have it */
.container {
  max-width: 1180px;
  margin: 0 auto;
  padding: 0 18px;
}

/* === ENHANCED HEADER === */
.enhanced-header {
  background: linear-gradient(90deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
  color: #fff;
  padding: 18px 0;
  box-shadow: 0 6px 20px rgba(0, 40, 130, 0.12);
  position: sticky;
  top: 0;
  z-index: 60;
}

.enhanced-header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.brand {
  display: flex;
  align-items: center;
  gap: 14px;
  text-decoration: none;
  color: white;
}

.brand-logo {
  width: 56px;
  height: 56px;
  object-fit: contain;
  border-radius: 8px;
  background: rgba(255,255,255,0.08);
  padding: 6px;
  box-shadow: 0 4px 14px rgba(0,0,0,0.08);
}

.brand-text .school-name {
  font-size: 18px;
  font-weight: 700;
  line-height: 1;
}

.brand-text .portal-title {
  font-size: 12px;
  opacity: 0.95;
}

/* mini nav right */
.mini-nav .contact-sm {
  font-size: 13px;
  opacity: 0.95;
}

/* === MAIN LAYOUT === */
main { padding: 32px 0; }

.page-wrap {
  display: flex;
  justify-content: center;
  padding: 24px 0 48px;
}

/* === FORM CARD === */
.form-container {
  width: 100%;
  max-width: 920px;
  background: var(--card-bg);
  padding: 44px 56px;
  border-radius: 14px;
  box-shadow: 0 12px 40px rgba(11, 49, 97, 0.06);
  border-top: 6px solid var(--primary-blue);
}

.form-container h1 {
  text-align: center;
  color: var(--primary-blue-dark);
  font-size: 2rem;
  margin-bottom: 6px;
  font-weight: 700;
}

.subtitle {
  text-align: center;
  color: var(--muted);
  margin-bottom: 34px;
  font-size: 1rem;
}

/* === Enhanced Stepper Styles === */
.stepper {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 14px;
  margin-bottom: 36px;
  padding: 0 6px;
}

/* Each step block */
.step {
  text-align: center;
  flex: 1;
  position: relative;
  z-index: 2;
  color: #9aa4b2;
  font-weight: 600;
  transition: all 320ms cubic-bezier(.2,.9,.34,1);
  cursor: default;
}

.step p {
  margin-top: 8px;
  font-size: 13px;
  color: var(--muted);
  font-weight: 700;
  letter-spacing: 0.2px;
}

/* icon circle */
.icon {
  width: 48px;
  height: 48px;
  border-radius: 999px;
  margin: 0 auto;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #eef3ff;
  color: var(--primary-blue);
  font-size: 18px;
  transition: transform 300ms ease, box-shadow 300ms ease, background 300ms ease;
  box-shadow: 0 6px 18px rgba(3, 36, 99, 0.06);
}

/* When active */
.step.active .icon,
.step.completed .icon {
  background: linear-gradient(135deg, var(--primary-blue), var(--primary-blue-dark));
  color: #fff;
  transform: scale(1.08);
  box-shadow: 0 10px 30px rgba(0, 86, 210, 0.22);
}

.step.active p,
.step.completed p {
  color: var(--primary-blue-dark);
}

/* Connector line between steps */
.line {
  flex: 0.28;
  height: 6px;
  background: linear-gradient(90deg, #e9f2ff 0%, #dbefff 100%);
  border-radius: 6px;
  position: relative;
  z-index: 1;
  transition: background 420ms ease;
  box-shadow: inset 0 -1px 0 rgba(255,255,255,0.4);
}

/* active/fill state for the connector */
.line.active {
  background: linear-gradient(90deg, var(--primary-blue), var(--primary-blue-dark));
  box-shadow: 0 6px 18px rgba(3, 36, 99, 0.12);
}

/* === FORM STEPS (keep behavior) === */
.form-step { display: none; }
.form-step.active { display: block; animation: fadeIn 360ms ease; }

/* small helpers / visuals for review and inputs (kept similar to previous) */
.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 18px 26px;
}

.form-group { margin-bottom: 16px; }
label { font-weight: 600; display: block; margin-bottom: 8px; color: #3b4857; }
input, select { width: 100%; padding: 12px 14px; border: 1.6px solid #e2e8f0; border-radius: 10px; font-size: 15px; background: #fbfdff; transition: all 220ms ease; }
input:focus, select:focus { outline: none; box-shadow: 0 6px 18px rgba(3,36,99,0.06); border-color: var(--primary-blue); background: #fff; }

/* headings inside form */
.form-grid h3 { grid-column: 1 / -1; font-size: 1.1rem; color: var(--primary-blue-dark); margin: 18px 0 8px; border-left: 4px solid var(--primary-blue); padding-left: 10px; }

/* Buttons */
.buttons { display: flex; justify-content: space-between; gap: 10px; margin-top: 30px; }
button { background: var(--primary-blue); color: white; padding: 12px 26px; border-radius: 10px; border: none; font-weight: 700; cursor: pointer; transition: transform 150ms ease, box-shadow 150ms ease; }
button:hover { transform: translateY(-3px); box-shadow: 0 10px 22px rgba(3,36,99,0.12); }

/* Review card */
.review-section { background: #fbfdff; padding: 16px; border-radius: 10px; margin-top: 10px; border: 1px solid #eef6ff; }

/* Success */
.success { text-align:center; padding: 36px 18px; background:#ecfdf5; border: 1px solid #bbf7d0; border-radius: 12px; margin-top: 28px; }

/* FOOTER (Enhanced) */
.enhanced-footer {
  margin-top: 36px;
  background: linear-gradient(90deg, var(--primary-blue-dark), var(--primary-blue));
  color: #fff;
  padding: 18px 0;
}
.footer-inner {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
}

/* RESPONSIVE */
@media (max-width: 900px) {
  .stepper { gap: 10px; }
  .line { display: none; }
  .step { flex: 0 1 33%; min-width: 120px; }
  .brand-text .school-name { font-size: 14px; }
  .form-container { padding: 28px; }
}

@media (max-width: 420px) {
  .stepper { flex-wrap: wrap; justify-content:center; }
  .step { flex: 0 1 45%; min-width: 120px; margin-bottom: 8px; }
}

  </style>
</head>
<body>

  <!-- ========== BLUE HEADER (Enhanced) ========== -->
  <header class="enhanced-header">
    <div class="enhanced-header-inner container">
      <div class="header-left">
        <a class="brand" href="#">
          <img src="../../images/logo.png" alt="School Logo" class="brand-logo">
          <div class="brand-text">
            <div class="school-name">Southville 8B Senior High School</div>
            <div class="portal-title">Student Enrollment Portal</div>
          </div>
        </a>
      </div>

      <div class="header-right">
        <!-- Keep a simplified nav; your original nav still exists on Version 2 -->
        <nav class="mini-nav">
          <span class="contact-sm">Contact: (09)XXXXXXXXX</span>
        </nav>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <div class="page-wrap">
      <div class="form-container">
        <h1>Student Registration</h1>
        <p class="subtitle">Complete the steps below to create your account and choose your strand.</p>

        <!-- Stepper (Enhanced) -->
        <div class="stepper" role="tablist" aria-label="Registration steps">
          <div class="step active" data-step="0" aria-current="step">
            <div class="icon"><i class="fa-solid fa-file-lines"></i></div>
            <p>Application Account</p>
          </div>

          <div class="line"></div>

          <div class="step" data-step="1">
            <div class="icon"><i class="fa-solid fa-user"></i></div>
            <p>Application Profile</p>
          </div>

          <div class="line"></div>

          <div class="step" data-step="2">
            <div class="icon"><i class="fa-solid fa-graduation-cap"></i></div>
            <p>Educational Profile</p>
          </div>

          <div class="line"></div>

          <div class="step" data-step="3">
            <div class="icon"><i class="fa-solid fa-users"></i></div>
            <p>Family Profile</p>
          </div>

          <div class="line"></div>

          <div class="step" data-step="4">
            <div class="icon"><i class="fa-solid fa-upload"></i></div>
            <p>Upload Requirements</p>
          </div>

          <div class="line"></div>

          <div class="step" data-step="5">
            <div class="icon"><i class="fa-solid fa-check-to-slot"></i></div>
            <p>Review</p>
          </div>
        </div>

        <!-- Registration Form (kept exactly as you provided) -->
        <form id="regForm" action="../php/register.php" method="POST" enctype="multipart/form-data">
          <!-- Step 1 -->
          <div class="form-step active">
            <div class="form-group">
              <label>Email</label>
              <input type="email" name="email" required>
            </div>
            <div class="form-group">
              <label>Mobile Number</label>
              <input type="tel" name="phone" placeholder="09XXXXXXXXX" pattern="^0\d{10}$" minlength="11" required>
            </div>
            <div class="form-group">
              <label>Password</label>
              <input type="password" name="password" minlength="8" required>
            </div>
          </div>

          <!-- Step 2 -->
          <div class="form-step">
            <div class="form-grid">
              <h3 style="grid-column: 1 / -1;">Student Information</h3>

              <div class="form-group"><label>First Name</label><input type="text" name="firstname" required></div>
              <div class="form-group"><label>Last Name</label><input type="text" name="lastname" required></div>
              <div class="form-group"><label>Middle Name</label><input type="text" name="middlename"></div>

              <div class="form-group">
                <label>Suffix</label>
                <select name="suffix">
                  <option value="">-- Select Suffix --</option>
                  <option>JR</option>
                  <option>SR</option>
                  <option>I</option>
                  <option>II</option>
                  <option>III</option>
                  <option>IV</option>
                  <option>V</option>
                  <option>V1</option>
                  <option>VII</option>
                  <option>VIII</option>
                  <option>IX</option>
                  <option>X</option>
                </select>
              </div>

              <div class="form-group"><label>Age</label><input type="number" name="age" min="1" required></div>
              <div class="form-group"><label>Status</label><input type="text" name="status"></div>
              <div class="form-group"><label>Religion</label><input type="text" name="religion"></div>
              <div class="form-group"><label>Nationality</label><input type="text" name="nationality"></div>
              <div class="form-group"><label>Birthday</label><input type="date" name="birthdate" required></div>
              <div class="form-group"><label>Place of Birth</label><input type="text" name="place_of_birth"></div>

              <div class="form-group">
                <label>Gender</label>
                <select name="sex" required>
                  <option value="" disabled selected>Select</option>
                  <option>Male</option>
                  <option>Female</option>
                </select>
              </div>

              <h3 style="grid-column: 1 / -1;">Address Information</h3>
              <div class="form-group"><label>Block / Lot / House No.</label><input type="text" name="lot_blk" required></div>
              <div class="form-group"><label>Street</label><input type="text" name="street" required></div>
              <div class="form-group"><label>Barangay</label><input type="text" name="barangay" required></div>
              <div class="form-group"><label>Municipality / City</label><input type="text" name="municipality" required></div>
              <div class="form-group"><label>Province</label><input type="text" name="province" required></div>
              <div class="form-group"><label>ZIP Code</label><input type="text" name="zipcode" required></div>
            </div>
          </div>

          <!-- Step 3 -->
          <div class="form-step">
            <div class="form-group"><label>Last School Attended</label><input type="text" name="last_school" required></div>

            <div class="form-group">
              <label>Student Status</label>
              <select name="student_status" required>
                <option value="">-- Select Status --</option>
                <option>New Enrollee</option>
                <option>Transferee</option>
              </select>
            </div>

            <div class="form-group">
              <label>Year Level</label>
              <select name="yearLevel" required>
                <option value="">-- Select Year Level --</option>
                <option>G11</option>
                <option>G12</option>
              </select>
            </div>

            <div class="form-group">
              <label>Preferred Strand</label>
              <select name="strand" required>
                <option value="">-- Select Strand --</option>
                <option>STEM</option>
                <option>ABM</option>
                <option>HUMSS</option>
                <option>TVL</option>
              </select>
            </div>
          </div>

          <!-- Step 4 -->
          <div class="form-step">
            <h3>Guardian Information</h3>
            <div class="form-group"><label>Guardian Name</label><input type="text" name="guardian_name" required></div>
            <div class="form-group">
              <label>Relationship</label>
              <select name="relationship" required>
                <option value="">-- Select Relationship --</option>
                <option>Father</option>
                <option>Mother</option>
                <option>Legal Guardian</option>
              </select>
            </div>
            <div class="form-group"><label>Contact Number</label><input type="tel" name="guardian_phone" placeholder="09XXXXXXXXX" pattern="^0\d{10}$" minlength="11" required></div>
            <div class="form-group"><label>Occupation</label><input type="text" name="occupation" required></div>
          </div>

          <!-- Step 5 -->
          <div class="form-step">
            <div class="form-group"><label>Birth Certificate (PDF or Image)</label><input type="file" name="birth_cert" accept=".pdf, image/*" required></div>
            <div class="form-group"><label>Form 137 (PDF or Image)</label><input type="file" name="form137" accept=".pdf, image/*" required></div>
            <div class="form-group"><label>Good Moral (PDF or Image)</label><input type="file" name="good_moral" accept=".pdf, image/*" required></div>
          </div>

          <!-- Step 6 -->
          <div class="form-step" id="reviewStep">
            <h3>Review Your Information</h3>
            <p>Double-check all the details below before submitting your registration.</p>

            <div class="review-section">
              <h4>Account Information</h4>
              <p><strong>Email:</strong> <span id="rev_email"></span></p>
              <p><strong>Mobile Number:</strong> <span id="rev_phone"></span></p>

              <h4>Personal Information</h4>
              <p><strong>Name:</strong> <span id="rev_name"></span></p>
              <p><strong>Age:</strong> <span id="rev_age"></span></p>
              <p><strong>Gender:</strong> <span id="rev_sex"></span></p>
              <p><strong>Birthday:</strong> <span id="rev_birthdate"></span></p>
              <p><strong>Place of Birth:</strong> <span id="rev_place_of_birth"></span></p>
              <p><strong>Address:</strong> <span id="rev_address"></span></p>
              <p><strong>Religion:</strong> <span id="rev_religion"></span></p>
              <p><strong>Nationality:</strong> <span id="rev_nationality"></span></p>

              <h4>Academic Information</h4>
              <p><strong>Last School Attended:</strong> <span id="rev_last_school"></span></p>
              <p><strong>Student Status:</strong> <span id="rev_student_status"></span></p>
              <p><strong>Preferred Strand:</strong> <span id="rev_strand"></span></p>

              <h4>Guardian Information</h4>
              <p><strong>Guardian Name:</strong> <span id="rev_guardian_name"></span></p>
              <p><strong>Relationship:</strong> <span id="rev_relationship"></span></p>
              <p><strong>Contact Number:</strong> <span id="rev_guardian_phone"></span></p>
              <p><strong>Occupation:</strong> <span id="rev_occupation"></span></p>

              <h4>Uploaded Documents</h4>
              <p><strong>Birth Certificate:</strong> <span id="rev_birth_cert"></span></p>
              <p><strong>Form 137:</strong> <span id="rev_form137"></span></p>
              <p><strong>Good Moral:</strong> <span id="rev_good_moral"></span></p>
            </div>
          </div>

          <!-- Buttons -->
          <div class="buttons">
            <button type="button" id="prevBtn">Back</button>
            <button type="button" id="nextBtn">Next</button>
          </div>

          <!-- Success -->
          <div class="success" id="successMsg" style="display:none;">
            <h2>✅ Registration Complete</h2>
            <p>Thank you! We’ve received your application.</p>
            <button onclick="location.reload()">Register Again</button>
          </div>
        </form>
      </div> <!-- .form-container -->
    </div> <!-- .page-wrap -->
  </main>

  <!-- FOOTER (Enhanced) -->
  <footer class="enhanced-footer">
    <div class="footer-inner container">
      <div>
        <p>&copy; 2025 Southville 8B Senior High School | All Rights Reserved</p>
      </div>
      <div>
        <p>Follow us: <a href="#" aria-label="Facebook">Facebook</a> | <a href="#" aria-label="Instagram">Instagram</a></p>
      </div>
    </div>
  </footer>

  <script>
    // ===== Navbar toggle (keep if present) =====
const menuToggle = document.getElementById("menu-toggle");
const navLinks = document.getElementById("nav-links");
if (menuToggle) {
  menuToggle.addEventListener("click", () => navLinks.classList.toggle("active"));
}

// ===== Stepper logic =====
const steps = document.querySelectorAll(".form-step");
const stepperSteps = document.querySelectorAll(".step");
const lines = document.querySelectorAll(".line");
let current = 0;

const nextBtn = document.getElementById("nextBtn");
const prevBtn = document.getElementById("prevBtn");
const form = document.getElementById("regForm");

function updateStepper() {
  // mark steps up to current as active/completed
  stepperSteps.forEach((s, idx) => {
    s.classList.remove("active", "completed");
    if (idx < current) s.classList.add("completed");
    if (idx === current) s.classList.add("active");
  });

  // lines: mark lines before the current as active
  lines.forEach((ln, idx) => {
    ln.classList.remove("active");
    if (idx < current) ln.classList.add("active");
  });

  // aria-current for accessibility
  stepperSteps.forEach((s, idx) => {
    if (idx === current) s.setAttribute("aria-current", "step");
    else s.removeAttribute("aria-current");
  });
}

// initial render
updateStepper();

// Next button
if (nextBtn) {
  nextBtn.addEventListener("click", (e) => {
    e.preventDefault();

    // basic validation on current step's inputs/selects
    const currentInputs = steps[current].querySelectorAll("input, select, textarea");
    for (let input of currentInputs) {
      if (!input.checkValidity()) {
        input.reportValidity();
        return;
      }
    }

    if (current < steps.length - 1) {
      // move to next
      steps[current].classList.remove("active");
      current++;
      steps[current].classList.add("active");

      // update stepper visuals
      updateStepper();

      // If landed on the review step (last)
      if (current === steps.length - 1) {
        nextBtn.textContent = "Submit";

        // Fill review fields
        document.getElementById("rev_email").textContent = document.querySelector("[name='email']").value;
        document.getElementById("rev_phone").textContent = document.querySelector("[name='phone']").value;
        document.getElementById("rev_name").textContent =
          `${document.querySelector("[name='firstname']").value || ""} ${document.querySelector("[name='middlename']").value || ""} ${document.querySelector("[name='lastname']").value || ""} ${document.querySelector("[name='suffix']").value || ""}`.trim();
        document.getElementById("rev_age").textContent = document.querySelector("[name='age']").value || "";
        document.getElementById("rev_sex").textContent = document.querySelector("[name='sex']").value || "";
        document.getElementById("rev_birthdate").textContent = document.querySelector("[name='birthdate']").value || "";
        document.getElementById("rev_place_of_birth").textContent = document.querySelector("[name='place_of_birth']").value || "";
        document.getElementById("rev_religion").textContent = document.querySelector("[name='religion']").value || "";
        document.getElementById("rev_nationality").textContent = document.querySelector("[name='nationality']").value || "";
        document.getElementById("rev_address").textContent =
          `${document.querySelector("[name='lot_blk']").value || ""}, ${document.querySelector("[name='street']").value || ""}, ${document.querySelector("[name='barangay']").value || ""}, ${document.querySelector("[name='municipality']").value || ""}, ${document.querySelector("[name='province']").value || ""} ${document.querySelector("[name='zipcode']").value || ""}`;
        document.getElementById("rev_last_school").textContent = document.querySelector("[name='last_school']").value || "";
        document.getElementById("rev_student_status").textContent = document.querySelector("[name='student_status']").value || "";
        document.getElementById("rev_strand").textContent = document.querySelector("[name='strand']").value || "";
        document.getElementById("rev_guardian_name").textContent = document.querySelector("[name='guardian_name']").value || "";
        document.getElementById("rev_relationship").textContent = document.querySelector("[name='relationship']").value || "";
        document.getElementById("rev_guardian_phone").textContent = document.querySelector("[name='guardian_phone']").value || "";
        document.getElementById("rev_occupation").textContent = document.querySelector("[name='occupation']").value || "";

        document.getElementById("rev_birth_cert").textContent = document.querySelector("[name='birth_cert']").files[0]?.name || "Not uploaded";
        document.getElementById("rev_form137").textContent = document.querySelector("[name='form137']").files[0]?.name || "Not uploaded";
        document.getElementById("rev_good_moral").textContent = document.querySelector("[name='good_moral']").files[0]?.name || "Not uploaded";
      } else {
        nextBtn.textContent = "Next";
      }
    } else {
      // final submit (when on last step and user clicks submit)
      form.submit();
    }
  });
}

// Prev button
if (prevBtn) {
  prevBtn.addEventListener("click", (e) => {
    e.preventDefault();
    if (current > 0) {
      steps[current].classList.remove("active");
      current--;
      steps[current].classList.add("active");
      nextBtn.textContent = "Next";
      updateStepper();
    }
  });
}

// Optional: clicking a step on the stepper jumps to that step (non-forcing)
stepperSteps.forEach((s, idx) => {
  s.addEventListener("click", () => {
    // allow moving backward or to any step (but keep validation on next button)
    if (idx <= current) {
      // move back
      steps[current].classList.remove("active");
      current = idx;
      steps[current].classList.add("active");
      updateStepper();
      nextBtn.textContent = (current === steps.length - 1) ? "Submit" : "Next";
    }
  });
});

  </script>
</body>
</html>
